<!DOCTYPE html>

<html>
	<head>
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

		<!--link rel="stylesheet" href="../etudes.css"-->


		
		<style>
			.lil-gui .controller.option em {
				color: Yellow;
				font-weight: bold;
				font-style: normal;
			}
			
			#primary {
				position: fixed;
				top: 0.5em;
				left: 0.5em;
				display: inline-block;
			}
			
			#secondary {
				position: fixed;
				top: 0.5em;
				right: 0.5em;
				display: inline-block;
			}
			
		</style>
		<script src="libs/lil-gui.umd.js"></script>
	</head>
	
	<body>
		<!--script async src="https://ga.jspm.io/npm:es-module-shims@1.5.1/dist/es-module-shims.js" crossorigin="anonymous"></script>
		
		<script type="importmap">
		  {
			"imports": {
			  //"three": "https://unpkg.com/three@0.152.0/build/three.module.js",
			  //"three/addons/": "https://unpkg.com/three@0.152.0/examples/jsm/"
			  "three": "./libs/three.module.min.js",
			  "three/addons/": "./libs/"
			}
		  }
		</script-->

		<div id="primary"></div>
		<div id="secondary"></div>
		<!--h1 class="white">Fluid effects<span id="caption"></span><a href="https://boytchev.github.io/etudes/">&larr;</a></h1-->

		<script type="module">

			import { MAX_LEVEL, updatePlatons } from './platons.js';
			
			var PLATON_TYPES = {
					'<em>T</em>etrahedron': 0,
					'<em>O</em>ctahedron': 1,
					'<em>C</em>ube': 2,
					'<em>D</em>odecahedron': 3,
					'<em>I</em>cosahedron': 4
				}
			
			var PLATON_LEVELS = [];
				for( var i=1; i<=MAX_LEVEL; i++ )
					PLATON_LEVELS.push( i );
					
			var primaryOptions = {
					type: 4,
					level: 2,
				};
			
			var secondaryOptions = {
					type: 1,
					level: 2,
					scale: 2.8,
				};
			
			// interactive panel for selecting fluid effects
						
			var guiPrimary = new lil.GUI({title:'Primary shape',container:document.getElementById('primary')});
				guiPrimary.add( primaryOptions, 'type', PLATON_TYPES ).name( 'Type' ).onChange( onChange );
				guiPrimary.add( primaryOptions, 'level', PLATON_LEVELS ).name( 'Level' ).onChange( onChange );
				guiPrimary.open();
						
			var guiSecondary = new lil.GUI({title:'Secondary shape',container:document.getElementById('secondary')});
				guiSecondary.add( secondaryOptions, 'type', PLATON_TYPES ).name( 'Type' ).onChange( onChange );
				guiSecondary.add( secondaryOptions, 'level', PLATON_LEVELS ).name( 'Level' ).onChange( onChange );
				guiSecondary.add( secondaryOptions, 'scale' ).min( -90 ).max( 90 ).step( 0.1 ).name( 'Relative scale' ).onChange( onChange );
				guiSecondary.open();


			function onChange( event )
			{
				updatePlatons( primaryOptions, secondaryOptions );
			}
			
			updatePlatons( primaryOptions, secondaryOptions );
		</script>
	</body>
</html>